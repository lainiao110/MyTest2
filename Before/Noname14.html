<!DOCTYPE HTML>
<html>
 <head>
  <title> new document For HTML5 </title>
  <meta name="generator" content="editplus" />
  <meta name="author" content="" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <script type="text/javascript">
    var ready=(function(){
	   var funcs=[];
	   var readystate=false;
	   function handler(event)
	   {
		   event=event||window.event;
	       if(readystate)
		     return;
		   if(event.type=="readystatechange"&&document.readyState!=="complete")
		     return;
		   for(var i=0;i<funcs.length;i++){
		      funcs[i].call(document);
		   }
		   readystate=true;
		   funcs=null;
	   }
	   if(document.addEventListener){
		  document.addEventListener("DOMContentLoaded",handler,false);
		  document.addEventListener("readystatechange",handler,false);
	      window.addEventListener("load",handler,false);
	   }else{
		  document.attach("onreadystatechan",handler);
	      window.attachEvent("onload",handler);
	   }
	   return function(f){
	      if(readystate){
		     f.call(document);
		  }
		  else{
		    funcs.push(f);
		  }
	   }
	})();
    ready(function(){
		var fps=60;
		var x=0;
		var y=0;
		var width=150;
		var height=150;
		var sx=1;
		var sy=1;
		var maxX=0;
		var maxY=0;
		var canvas=null;
		var context=null;
		var img=new Image();
		img.src="mytest1.jpg";
		function Init(){
		   canvas=document.getElementById("mycan");
		   maxX=canvas.width-width;
		   maxY=canvas.height-height;
		   context=canvas.getContext("2d");
		   setInterval(Draw,1000/fps);
		}
		function Draw(){
		  context.clearRect(x,y,width,height);
		  x+=2*sx;
		  y+=2*sy;
		  context.drawImage(img,x,y);
		  if(x>=maxX){
		     sx=-1;
		  }else if(x<=0){
		     sx=1;
		  }
		  if(y>=maxY){
		     sy=-1;
		  }else if(y<=0){
		     sy=1;
		  }
		}
		Init();  
	});
  </script>
 </head>

 <body>
  <canvas id='mycan' width="800" height="600" style="position:absolute;width:800px;height:600px;left:50%;top:50%;margin-left:-400px;margin-top:-300px;border:1px solid blue;">
    <h1>
	   您的浏览器不支持HTML5
	</h1>
  </canvas>
 </body>
</html>
